{"version":3,"sources":["pages/InteractiveCode.module.css","ga/viz2d.tsx","ga/ga_zpp.ts","pages/TutorialIndex.tsx","pages/GATutorial.tsx","pages/content.ts","pages/PGATutorial.tsx","App.tsx","ga/ga_pp.ts","serviceWorker.ts","index.tsx","pages/InteractiveCode.tsx"],"names":["module","exports","pointCoordinates","a","magInv","e12","e02","e01","PointElementPGA2D","props","point","radius","fill","label","trailCount","trailStroke","x","y","useState","trail","setTrail","trailPolyPoints","useMemo","flat","join","updateTrail","useCallback","length","newTrail","slice","push","useEffect","pga","stroke","strokeWidth","points","cx","cy","r","dominantBaseline","fontWeight","textAnchor","fontSize","LineElementPGA2D","line","width","lineCoords","Math","abs","e2","e1","e0","x1","y1","x2","y2","SVGGrid","rows","cols","i","getThickness","index","map","key","toFixed","SceneView","scene","style","viewBox","preserveAspectRatio","height","transform","lines","l","p","infos","info","color","text","add","b","scalar","undefined","e012","sub","dual","geometricProduct","resultScalar","scalar_0","scalar_1","scalar_2","scalar_3","resultE0","e0_0","e0_1","e0_2","e0_3","e0_4","e0_5","e0_6","e0_7","resultE1","e1_0","e1_1","e1_2","e1_3","resultE2","e2_0","e2_1","e2_2","e2_3","resultE01","e01_0","e01_1","e01_2","e01_3","e01_4","e01_5","e01_6","e01_7","resultE02","e02_0","e02_1","e02_2","e02_3","e02_4","e02_5","e02_6","e02_7","resultE12","e12_0","e12_1","e12_2","e12_3","resultE012","e012_0","e012_1","e012_2","e012_3","e012_4","e012_5","e012_6","e012_7","innerProduct","exteriorProduct","multiply","div","reversion","repr","digits","result","regressiveProduct","sandwichProduct","commutatorProduct","exponential","gp","Error","s","rootS","sign","sqrt","cos","sin","cosh","sinh","TutorialIndex","to","GATutorial","eval","cnt","sourceCode","hideOutput","withVisualizer","visualizerExample","textA","textA2","codeA2","textA3","codeA3","textB","textB2","codeB","textC","codeC","textD","codeD","textE","textF","codeF","textG","PGATutorial","pathToBreadcrumbs","path","pathNames","pathUrls","cleanedPath","substr","pathSplit","split","splice","name","url","NotFound","TutorialSite","location","useLocation","breadcrumbs","pathname","c","href","reduce","className","exact","App","wnd","window","ga","viz","renderScene","renderTarget","ReactDOM","render","Boolean","hostname","match","getApp","StrictMode","rootElement","document","getElementById","hasChildNodes","hydrate","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","formatObject","obj","JSON","stringify","InteractiveCode","editorStyle","visualizerStyle","outputStyle","code","setCode","runResult","setRunResult","run","oldLog","log","newRunResults","optionalParams","codeToRun","visualizerRef","current","id","e","toString","uniqueId","random","useRef","styles","position","border","background","right","top","zIndex","onClick","display","flexDirection","alignContent","flexWrap","mode","theme","value","onChange","showPrintMargin","ref","readOnly"],"mappings":"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","file":"static/js/main.21b454c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"interactive-code\":\"InteractiveCode_interactive-code__1W_Ca\",\"interactive-code-editor-with-viz\":\"InteractiveCode_interactive-code-editor-with-viz__3vc2f\",\"interactive-code-editor-without-viz\":\"InteractiveCode_interactive-code-editor-without-viz__23QwE\",\"interactive-code-viz\":\"InteractiveCode_interactive-code-viz__1atqK\",\"interactive-code-output\":\"InteractiveCode_interactive-code-output__2M2TB\"};","import React, { useCallback, useState, useEffect, useMemo } from \"react\"\r\nimport * as pga from \"./ga_zpp\"\r\n\r\n\r\nexport const pointCoordinates = (a: pga.BiVector): [number, number] => {\r\n    const magInv = 1 / a.e12\r\n    return [-a.e02 * magInv, a.e01 * magInv]\r\n}\r\n\r\nexport type PointElementPGA2DProps = {\r\n    point: pga.BiVector\r\n    radius?: number\r\n    fill?: string\r\n    label?: string\r\n    trailCount?: number\r\n    trailStroke?: string\r\n}\r\n\r\nconst getPolyLinePoints = (points: [number, number][]): string =>\r\n    points.flat().join(\" \")\r\n\r\n\r\nexport function PointElementPGA2D(props: PointElementPGA2DProps) {\r\n    const { point, radius, fill, label, trailCount, trailStroke } = props\r\n\r\n    const x = -point.e02 / point.e12\r\n    const y = point.e01 / point.e12\r\n\r\n    const [trail, setTrail] = useState<[number, number][]>([])\r\n\r\n    const trailPolyPoints = useMemo(() => getPolyLinePoints(trail), [trail])\r\n\r\n    const updateTrail = useCallback(() => {\r\n        if (trailCount) {\r\n            if (trail.length === 0 || (trail[trail.length - 1][0] !== x || trail[trail.length - 1][1] !== y)) {\r\n                let newTrail = [...trail]\r\n                if (newTrail.length > trailCount) {\r\n                    newTrail = newTrail.slice(1)\r\n                }\r\n                newTrail.push([x, y])\r\n                setTrail(newTrail)\r\n            }\r\n        } else {\r\n            setTrail([])\r\n        }\r\n    }, [x, y, trail, trailCount])\r\n\r\n    useEffect(updateTrail, [x, y])\r\n\r\n    return (\r\n        <g>\r\n            <title>{pga.repr(point)}</title>\r\n            {trail.length > 0 &&\r\n                <polyline fill=\"none\" stroke={trailStroke || \"#F37121\"}\r\n                    strokeWidth={0.5 * (radius || 1)}\r\n                    points={trailPolyPoints} />\r\n            }\r\n\r\n            <circle cx={x} cy={y} r={radius || 1} fill={fill || \"#F37121\"} stroke=\"white\" />\r\n\r\n            {label &&\r\n                <text x={x} y={y} dominantBaseline=\"middle\"\r\n                    fontWeight=\"800\"\r\n                    textAnchor=\"middle\" fontSize={radius || 1}>\r\n                    {label}\r\n                </text>\r\n            }\r\n        </g>\r\n    )\r\n}\r\n\r\nexport type LineElementPGA2DProps = {\r\n    line: pga.Vector\r\n    width?: number\r\n    stroke?: string\r\n    label?: string\r\n}\r\n\r\nexport function LineElementPGA2D(props: LineElementPGA2DProps) {\r\n    let { line, width, stroke, label } = props\r\n\r\n    const lineCoords = useMemo(() => {\r\n        if (Math.abs(line.e2) > Math.abs(line.e1)) {\r\n            const startX = -100\r\n            const endX = 100\r\n            const startY = -(line.e1 * startX + line.e0) / line.e2\r\n            const endY = -(line.e1 * endX + line.e0) / line.e2\r\n            return [startX, startY, endX, endY]\r\n        } else {\r\n            const startY = -100\r\n            const endY = 100\r\n            const startX = -(line.e2 * startY + line.e0) / line.e1\r\n            const endX = -(line.e2 * endY + line.e0) / line.e1\r\n            return [startX, startY, endX, endY]\r\n        }\r\n    }, [line])\r\n\r\n    return (\r\n        <g>\r\n            <title>{pga.repr(line)}</title>\r\n            <line x1={lineCoords[0]} y1={lineCoords[1]} x2={lineCoords[2]} y2={lineCoords[3]}\r\n                strokeWidth={width || 1} stroke={stroke || \"#F37121\"} />\r\n\r\n            {label &&\r\n                <text x={(lineCoords[0] + lineCoords[2]) / 2} y={(lineCoords[1] + lineCoords[3]) / 2}\r\n                    dominantBaseline=\"middle\" fontWeight=\"800\"\r\n                    textAnchor=\"middle\" fontSize={1}>\r\n                    {label}\r\n                </text>\r\n            }\r\n        </g>\r\n    )\r\n}\r\n\r\nexport type InfoElementProps = {\r\n    text: string\r\n    fontSize?: number\r\n    color?: string\r\n}\r\n\r\nexport type Scene = {\r\n    points?: PointElementPGA2DProps[]\r\n    lines?: LineElementPGA2DProps[]\r\n    infos?: InfoElementProps[]\r\n}\r\n\r\nexport type SceneViewProps = {\r\n    scene: Scene\r\n    style?: React.CSSProperties\r\n}\r\n\r\nfunction SVGGrid() {\r\n    const rows: number[] = []\r\n    const cols: number[] = []\r\n    for (let i = -10; i <= 10; i++) {\r\n        rows.push(i)\r\n        cols.push(i)\r\n    }\r\n\r\n    const getThickness = useCallback((index: number) => {\r\n        if (index === 0) {\r\n            return 1\r\n        } else if (index % 5 === 0) {\r\n            return 0.5\r\n        }\r\n\r\n        return 0.25\r\n    }, [])\r\n\r\n    return (\r\n        <g>\r\n            <g>\r\n                {cols.map(x =>\r\n                    <g key={x}>\r\n                        <line x1={x * 10} x2={x * 10} y1={-100} y2={100} stroke=\"#CCCCCC\" strokeWidth={getThickness(x)} />\r\n                        {x % 2 === 0 && x !== 0 && (\r\n                            <text x={10 * x} y={-5} fill=\"white\" fontSize={5} textAnchor=\"middle\">\r\n                                {`${(10 * x).toFixed(0)}`}\r\n                            </text>\r\n                        )}\r\n                    </g>\r\n                )}\r\n            </g>\r\n\r\n            <g>\r\n                {rows.map(y =>\r\n                    <g key={y}>\r\n                        <line x1={-100} x2={100} y1={y * 10} y2={y * 10} stroke=\"#CCCCCC\" strokeWidth={getThickness(y)} />\r\n                        {(y % 2 === 0) && (\r\n                            <text x={5} y={10 * y - 5} fill=\"white\" fontSize={5} textAnchor=\"middle\">\r\n                                {`${(10 * y).toFixed(0)}`}\r\n                            </text>\r\n                        )}\r\n                    </g>\r\n                )}\r\n            </g>\r\n        </g>\r\n    )\r\n}\r\n\r\nexport function SceneView(props: SceneViewProps) {\r\n    const { scene, style } = props\r\n\r\n    return (\r\n        <svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin slice\" style={style}>\r\n            <rect fill=\"#111D6E\" width=\"100%\" height=\"100%\" />\r\n\r\n            <g transform=\"translate(50, 50) scale(0.5)\">\r\n                <SVGGrid />\r\n\r\n                {scene.lines && scene.lines.map((l, i) =>\r\n                    <LineElementPGA2D {...l} key={i} />\r\n                )}\r\n\r\n                {scene.points && scene.points.map((p, i) =>\r\n                    <PointElementPGA2D {...p} key={i} />\r\n                )}\r\n            </g>\r\n\r\n            {scene.infos && scene.infos.map((info, i) => {\r\n                return (\r\n                    <text key={i} fontWeight=\"100\" x={1} y={6 + i} fontSize={info.fontSize || 1} fill={info.color || \"white\"}>\r\n                        {info.text}\r\n                    </text>\r\n                )\r\n            })}\r\n        </svg>\r\n    )\r\n}","export type BladeScalar = { scalar: number }\r\nexport type BladeE0 = { e0: number }\r\nexport type BladeE1 = { e1: number }\r\nexport type BladeE2 = { e2: number }\r\nexport type BladeE01 = { e01: number }\r\nexport type BladeE02 = { e02: number }\r\nexport type BladeE12 = { e12: number }\r\nexport type BladeE012 = { e012: number }\r\n\r\nexport type Scalar = BladeScalar\r\nexport type Vector = BladeE0 & BladeE1 & BladeE2\r\nexport type BiVector = BladeE01 & BladeE02 & BladeE12\r\nexport type TriVector = BladeE012\r\nexport type PseudoTriVector = BladeScalar\r\nexport type PseudoBiVector = BladeE0 & BladeE1 & BladeE2\r\nexport type PseudoVector = BladeE01 & BladeE02 & BladeE12\r\nexport type PseudoScalar = BladeE012\r\nexport type Even = BladeScalar & BladeE01 & BladeE02 & BladeE12\r\nexport type Odd = BladeE0 & BladeE1 & BladeE2 & BladeE012\r\nexport type MultiVector = BladeScalar & BladeE0 & BladeE1 & BladeE2 & BladeE01 & BladeE02 & BladeE12 & BladeE012\r\n\r\nexport type OptionalMultiVector = {\r\n    scalar?: number\r\n    e0?: number\r\n    e1?: number\r\n    e2?: number\r\n    e01?: number\r\n    e02?: number\r\n    e12?: number\r\n    e012?: number\r\n}\r\n\r\nexport type AddResultType<A, B> = (\r\n    (A extends BladeScalar ? BladeScalar : {}) &\r\n    (B extends BladeScalar ? BladeScalar : {}) &\r\n    (A extends BladeE0 ? BladeE0 : {}) &\r\n    (B extends BladeE0 ? BladeE0 : {}) &\r\n    (A extends BladeE1 ? BladeE1 : {}) &\r\n    (B extends BladeE1 ? BladeE1 : {}) &\r\n    (A extends BladeE2 ? BladeE2 : {}) &\r\n    (B extends BladeE2 ? BladeE2 : {}) &\r\n    (A extends BladeE01 ? BladeE01 : {}) &\r\n    (B extends BladeE01 ? BladeE01 : {}) &\r\n    (A extends BladeE02 ? BladeE02 : {}) &\r\n    (B extends BladeE02 ? BladeE02 : {}) &\r\n    (A extends BladeE12 ? BladeE12 : {}) &\r\n    (B extends BladeE12 ? BladeE12 : {}) &\r\n    (A extends BladeE012 ? BladeE012 : {}) &\r\n    (B extends BladeE012 ? BladeE012 : {})\r\n)\r\n\r\nexport const add = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): AddResultType<A, B> => {\r\n    const result: any = {\r\n        scalar: (a.scalar !== undefined || b.scalar !== undefined) ? (a.scalar || 0) + (b.scalar || 0) : undefined,\r\n        e0: (a.e0 !== undefined || b.e0 !== undefined) ? (a.e0 || 0) + (b.e0 || 0) : undefined,\r\n        e1: (a.e1 !== undefined || b.e1 !== undefined) ? (a.e1 || 0) + (b.e1 || 0) : undefined,\r\n        e2: (a.e2 !== undefined || b.e2 !== undefined) ? (a.e2 || 0) + (b.e2 || 0) : undefined,\r\n        e01: (a.e01 !== undefined || b.e01 !== undefined) ? (a.e01 || 0) + (b.e01 || 0) : undefined,\r\n        e02: (a.e02 !== undefined || b.e02 !== undefined) ? (a.e02 || 0) + (b.e02 || 0) : undefined,\r\n        e12: (a.e12 !== undefined || b.e12 !== undefined) ? (a.e12 || 0) + (b.e12 || 0) : undefined,\r\n        e012: (a.e012 !== undefined || b.e012 !== undefined) ? (a.e012 || 0) + (b.e012 || 0) : undefined,\r\n    }\r\n    return result as AddResultType<A, B>\r\n}\r\n\r\nexport const sub = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): AddResultType<A, B> => {\r\n    const result: any = {\r\n        scalar: (a.scalar !== undefined || b.scalar !== undefined) ? (a.scalar || 0) - (b.scalar || 0) : undefined,\r\n        e0: (a.e0 !== undefined || b.e0 !== undefined) ? (a.e0 || 0) - (b.e0 || 0) : undefined,\r\n        e1: (a.e1 !== undefined || b.e1 !== undefined) ? (a.e1 || 0) - (b.e1 || 0) : undefined,\r\n        e2: (a.e2 !== undefined || b.e2 !== undefined) ? (a.e2 || 0) - (b.e2 || 0) : undefined,\r\n        e01: (a.e01 !== undefined || b.e01 !== undefined) ? (a.e01 || 0) - (b.e01 || 0) : undefined,\r\n        e02: (a.e02 !== undefined || b.e02 !== undefined) ? (a.e02 || 0) - (b.e02 || 0) : undefined,\r\n        e12: (a.e12 !== undefined || b.e12 !== undefined) ? (a.e12 || 0) - (b.e12 || 0) : undefined,\r\n        e012: (a.e012 !== undefined || b.e012 !== undefined) ? (a.e012 || 0) - (b.e012 || 0) : undefined,\r\n    }\r\n    return result as AddResultType<A, B>\r\n}\r\n\r\nexport type DualResultType<A> = (\r\n    (A extends BladeScalar ? BladeE012 : {}) &\r\n    (A extends BladeE0 ? BladeE12 : {}) &\r\n    (A extends BladeE1 ? BladeE02 : {}) &\r\n    (A extends BladeE2 ? BladeE01 : {}) &\r\n    (A extends BladeE01 ? BladeE2 : {}) &\r\n    (A extends BladeE02 ? BladeE1 : {}) &\r\n    (A extends BladeE12 ? BladeE0 : {}) &\r\n    (A extends BladeE012 ? BladeScalar : {})\r\n)\r\n\r\nexport const dual = <A extends OptionalMultiVector>(a: A): DualResultType<A> => {\r\n    const result: any = {\r\n        scalar: a.e012 !== undefined ? 1.0 * a.e012 : undefined,\r\n        e0: a.e12 !== undefined ? 1.0 * a.e12 : undefined,\r\n        e1: a.e02 !== undefined ? -1.0 * a.e02 : undefined,\r\n        e2: a.e01 !== undefined ? 1.0 * a.e01 : undefined,\r\n        e01: a.e2 !== undefined ? 1.0 * a.e2 : undefined,\r\n        e02: a.e1 !== undefined ? -1.0 * a.e1 : undefined,\r\n        e12: a.e0 !== undefined ? 1.0 * a.e0 : undefined,\r\n        e012: a.scalar !== undefined ? 1.0 * a.scalar : undefined,\r\n    }\r\n    return result as DualResultType<A>\r\n}\r\n\r\nexport type GeometricProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE2 ? BladeE2 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {}) &\r\n        (B extends BladeE02 ? BladeE02 : {}) &\r\n        (B extends BladeE12 ? BladeE12 : {}) &\r\n        (B extends BladeE012 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE01 : {}) &\r\n        (B extends BladeE2 ? BladeE02 : {}) &\r\n        (B extends BladeE12 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE0 ? BladeE01 : {}) &\r\n        (B extends BladeE1 ? BladeScalar : {}) &\r\n        (B extends BladeE2 ? BladeE12 : {}) &\r\n        (B extends BladeE01 ? BladeE0 : {}) &\r\n        (B extends BladeE02 ? BladeE012 : {}) &\r\n        (B extends BladeE12 ? BladeE2 : {}) &\r\n        (B extends BladeE012 ? BladeE02 : {})\r\n    ) : {}) &\r\n    (A extends BladeE2 ? (\r\n        (B extends BladeScalar ? BladeE2 : {}) &\r\n        (B extends BladeE0 ? BladeE02 : {}) &\r\n        (B extends BladeE1 ? BladeE12 : {}) &\r\n        (B extends BladeE2 ? BladeScalar : {}) &\r\n        (B extends BladeE01 ? BladeE012 : {}) &\r\n        (B extends BladeE02 ? BladeE0 : {}) &\r\n        (B extends BladeE12 ? BladeE1 : {}) &\r\n        (B extends BladeE012 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {}) &\r\n        (B extends BladeE1 ? BladeE0 : {}) &\r\n        (B extends BladeE2 ? BladeE012 : {}) &\r\n        (B extends BladeE12 ? BladeE02 : {})\r\n    ) : {}) &\r\n    (A extends BladeE02 ? (\r\n        (B extends BladeScalar ? BladeE02 : {}) &\r\n        (B extends BladeE1 ? BladeE012 : {}) &\r\n        (B extends BladeE2 ? BladeE0 : {}) &\r\n        (B extends BladeE12 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE12 ? (\r\n        (B extends BladeScalar ? BladeE12 : {}) &\r\n        (B extends BladeE0 ? BladeE012 : {}) &\r\n        (B extends BladeE1 ? BladeE2 : {}) &\r\n        (B extends BladeE2 ? BladeE1 : {}) &\r\n        (B extends BladeE01 ? BladeE02 : {}) &\r\n        (B extends BladeE02 ? BladeE01 : {}) &\r\n        (B extends BladeE12 ? BladeScalar : {}) &\r\n        (B extends BladeE012 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE012 ? (\r\n        (B extends BladeScalar ? BladeE012 : {}) &\r\n        (B extends BladeE1 ? BladeE02 : {}) &\r\n        (B extends BladeE2 ? BladeE01 : {}) &\r\n        (B extends BladeE12 ? BladeE0 : {})\r\n    ) : {})\r\n\r\nexport const geometricProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): GeometricProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    const scalar_1 = a.e1 !== undefined && b.e1 !== undefined\r\n    const scalar_2 = a.e2 !== undefined && b.e2 !== undefined\r\n    const scalar_3 = a.e12 !== undefined && b.e12 !== undefined\r\n    if (scalar_0 || scalar_1 || scalar_2 || scalar_3) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n        if (scalar_1) resultScalar += 1.0 * (a.e1! * b.e1!)\r\n        if (scalar_2) resultScalar += 1.0 * (a.e2! * b.e2!)\r\n        if (scalar_3) resultScalar += -1.0 * (a.e12! * b.e12!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    const e0_2 = a.e1 !== undefined && b.e01 !== undefined\r\n    const e0_3 = a.e2 !== undefined && b.e02 !== undefined\r\n    const e0_4 = a.e01 !== undefined && b.e1 !== undefined\r\n    const e0_5 = a.e02 !== undefined && b.e2 !== undefined\r\n    const e0_6 = a.e12 !== undefined && b.e012 !== undefined\r\n    const e0_7 = a.e012 !== undefined && b.e12 !== undefined\r\n    if (e0_0 || e0_1 || e0_2 || e0_3 || e0_4 || e0_5 || e0_6 || e0_7) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n        if (e0_2) resultE0 += -1.0 * (a.e1! * b.e01!)\r\n        if (e0_3) resultE0 += -1.0 * (a.e2! * b.e02!)\r\n        if (e0_4) resultE0 += 1.0 * (a.e01! * b.e1!)\r\n        if (e0_5) resultE0 += 1.0 * (a.e02! * b.e2!)\r\n        if (e0_6) resultE0 += -1.0 * (a.e12! * b.e012!)\r\n        if (e0_7) resultE0 += -1.0 * (a.e012! * b.e12!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e1 !== undefined && b.scalar !== undefined\r\n    const e1_2 = a.e2 !== undefined && b.e12 !== undefined\r\n    const e1_3 = a.e12 !== undefined && b.e2 !== undefined\r\n    if (e1_0 || e1_1 || e1_2 || e1_3) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n        if (e1_2) resultE1 += -1.0 * (a.e2! * b.e12!)\r\n        if (e1_3) resultE1 += 1.0 * (a.e12! * b.e2!)\r\n    }\r\n    let resultE2 = undefined\r\n    const e2_0 = a.scalar !== undefined && b.e2 !== undefined\r\n    const e2_1 = a.e1 !== undefined && b.e12 !== undefined\r\n    const e2_2 = a.e2 !== undefined && b.scalar !== undefined\r\n    const e2_3 = a.e12 !== undefined && b.e1 !== undefined\r\n    if (e2_0 || e2_1 || e2_2 || e2_3) {\r\n        resultE2 = 0\r\n        if (e2_0) resultE2 += 1.0 * (a.scalar! * b.e2!)\r\n        if (e2_1) resultE2 += 1.0 * (a.e1! * b.e12!)\r\n        if (e2_2) resultE2 += 1.0 * (a.e2! * b.scalar!)\r\n        if (e2_3) resultE2 += -1.0 * (a.e12! * b.e1!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e0 !== undefined && b.e1 !== undefined\r\n    const e01_2 = a.e1 !== undefined && b.e0 !== undefined\r\n    const e01_3 = a.e2 !== undefined && b.e012 !== undefined\r\n    const e01_4 = a.e01 !== undefined && b.scalar !== undefined\r\n    const e01_5 = a.e02 !== undefined && b.e12 !== undefined\r\n    const e01_6 = a.e12 !== undefined && b.e02 !== undefined\r\n    const e01_7 = a.e012 !== undefined && b.e2 !== undefined\r\n    if (e01_0 || e01_1 || e01_2 || e01_3 || e01_4 || e01_5 || e01_6 || e01_7) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e0! * b.e1!)\r\n        if (e01_2) resultE01 += -1.0 * (a.e1! * b.e0!)\r\n        if (e01_3) resultE01 += 1.0 * (a.e2! * b.e012!)\r\n        if (e01_4) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n        if (e01_5) resultE01 += -1.0 * (a.e02! * b.e12!)\r\n        if (e01_6) resultE01 += 1.0 * (a.e12! * b.e02!)\r\n        if (e01_7) resultE01 += 1.0 * (a.e012! * b.e2!)\r\n    }\r\n    let resultE02 = undefined\r\n    const e02_0 = a.scalar !== undefined && b.e02 !== undefined\r\n    const e02_1 = a.e0 !== undefined && b.e2 !== undefined\r\n    const e02_2 = a.e1 !== undefined && b.e012 !== undefined\r\n    const e02_3 = a.e2 !== undefined && b.e0 !== undefined\r\n    const e02_4 = a.e01 !== undefined && b.e12 !== undefined\r\n    const e02_5 = a.e02 !== undefined && b.scalar !== undefined\r\n    const e02_6 = a.e12 !== undefined && b.e01 !== undefined\r\n    const e02_7 = a.e012 !== undefined && b.e1 !== undefined\r\n    if (e02_0 || e02_1 || e02_2 || e02_3 || e02_4 || e02_5 || e02_6 || e02_7) {\r\n        resultE02 = 0\r\n        if (e02_0) resultE02 += 1.0 * (a.scalar! * b.e02!)\r\n        if (e02_1) resultE02 += 1.0 * (a.e0! * b.e2!)\r\n        if (e02_2) resultE02 += -1.0 * (a.e1! * b.e012!)\r\n        if (e02_3) resultE02 += -1.0 * (a.e2! * b.e0!)\r\n        if (e02_4) resultE02 += 1.0 * (a.e01! * b.e12!)\r\n        if (e02_5) resultE02 += 1.0 * (a.e02! * b.scalar!)\r\n        if (e02_6) resultE02 += -1.0 * (a.e12! * b.e01!)\r\n        if (e02_7) resultE02 += -1.0 * (a.e012! * b.e1!)\r\n    }\r\n    let resultE12 = undefined\r\n    const e12_0 = a.scalar !== undefined && b.e12 !== undefined\r\n    const e12_1 = a.e1 !== undefined && b.e2 !== undefined\r\n    const e12_2 = a.e2 !== undefined && b.e1 !== undefined\r\n    const e12_3 = a.e12 !== undefined && b.scalar !== undefined\r\n    if (e12_0 || e12_1 || e12_2 || e12_3) {\r\n        resultE12 = 0\r\n        if (e12_0) resultE12 += 1.0 * (a.scalar! * b.e12!)\r\n        if (e12_1) resultE12 += 1.0 * (a.e1! * b.e2!)\r\n        if (e12_2) resultE12 += -1.0 * (a.e2! * b.e1!)\r\n        if (e12_3) resultE12 += 1.0 * (a.e12! * b.scalar!)\r\n    }\r\n    let resultE012 = undefined\r\n    const e012_0 = a.scalar !== undefined && b.e012 !== undefined\r\n    const e012_1 = a.e0 !== undefined && b.e12 !== undefined\r\n    const e012_2 = a.e1 !== undefined && b.e02 !== undefined\r\n    const e012_3 = a.e2 !== undefined && b.e01 !== undefined\r\n    const e012_4 = a.e01 !== undefined && b.e2 !== undefined\r\n    const e012_5 = a.e02 !== undefined && b.e1 !== undefined\r\n    const e012_6 = a.e12 !== undefined && b.e0 !== undefined\r\n    const e012_7 = a.e012 !== undefined && b.scalar !== undefined\r\n    if (e012_0 || e012_1 || e012_2 || e012_3 || e012_4 || e012_5 || e012_6 || e012_7) {\r\n        resultE012 = 0\r\n        if (e012_0) resultE012 += 1.0 * (a.scalar! * b.e012!)\r\n        if (e012_1) resultE012 += 1.0 * (a.e0! * b.e12!)\r\n        if (e012_2) resultE012 += -1.0 * (a.e1! * b.e02!)\r\n        if (e012_3) resultE012 += 1.0 * (a.e2! * b.e01!)\r\n        if (e012_4) resultE012 += 1.0 * (a.e01! * b.e2!)\r\n        if (e012_5) resultE012 += -1.0 * (a.e02! * b.e1!)\r\n        if (e012_6) resultE012 += 1.0 * (a.e12! * b.e0!)\r\n        if (e012_7) resultE012 += 1.0 * (a.e012! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e2: resultE2,\r\n        e01: resultE01,\r\n        e02: resultE02,\r\n        e12: resultE12,\r\n        e012: resultE012,\r\n    }\r\n    return result as GeometricProductResultType<A, B>\r\n}\r\n\r\nexport type InnerProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE2 ? BladeE2 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {}) &\r\n        (B extends BladeE02 ? BladeE02 : {}) &\r\n        (B extends BladeE12 ? BladeE12 : {}) &\r\n        (B extends BladeE012 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE1 ? BladeScalar : {}) &\r\n        (B extends BladeE01 ? BladeE0 : {}) &\r\n        (B extends BladeE12 ? BladeE2 : {}) &\r\n        (B extends BladeE012 ? BladeE02 : {})\r\n    ) : {}) &\r\n    (A extends BladeE2 ? (\r\n        (B extends BladeScalar ? BladeE2 : {}) &\r\n        (B extends BladeE2 ? BladeScalar : {}) &\r\n        (B extends BladeE02 ? BladeE0 : {}) &\r\n        (B extends BladeE12 ? BladeE1 : {}) &\r\n        (B extends BladeE012 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {}) &\r\n        (B extends BladeE1 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE02 ? (\r\n        (B extends BladeScalar ? BladeE02 : {}) &\r\n        (B extends BladeE2 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE12 ? (\r\n        (B extends BladeScalar ? BladeE12 : {}) &\r\n        (B extends BladeE1 ? BladeE2 : {}) &\r\n        (B extends BladeE2 ? BladeE1 : {}) &\r\n        (B extends BladeE12 ? BladeScalar : {}) &\r\n        (B extends BladeE012 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE012 ? (\r\n        (B extends BladeScalar ? BladeE012 : {}) &\r\n        (B extends BladeE1 ? BladeE02 : {}) &\r\n        (B extends BladeE2 ? BladeE01 : {}) &\r\n        (B extends BladeE12 ? BladeE0 : {})\r\n    ) : {})\r\n\r\nexport const innerProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): InnerProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    const scalar_1 = a.e1 !== undefined && b.e1 !== undefined\r\n    const scalar_2 = a.e2 !== undefined && b.e2 !== undefined\r\n    const scalar_3 = a.e12 !== undefined && b.e12 !== undefined\r\n    if (scalar_0 || scalar_1 || scalar_2 || scalar_3) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n        if (scalar_1) resultScalar += 1.0 * (a.e1! * b.e1!)\r\n        if (scalar_2) resultScalar += 1.0 * (a.e2! * b.e2!)\r\n        if (scalar_3) resultScalar += -1.0 * (a.e12! * b.e12!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    const e0_2 = a.e1 !== undefined && b.e01 !== undefined\r\n    const e0_3 = a.e2 !== undefined && b.e02 !== undefined\r\n    const e0_4 = a.e01 !== undefined && b.e1 !== undefined\r\n    const e0_5 = a.e02 !== undefined && b.e2 !== undefined\r\n    const e0_6 = a.e12 !== undefined && b.e012 !== undefined\r\n    const e0_7 = a.e012 !== undefined && b.e12 !== undefined\r\n    if (e0_0 || e0_1 || e0_2 || e0_3 || e0_4 || e0_5 || e0_6 || e0_7) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n        if (e0_2) resultE0 += -1.0 * (a.e1! * b.e01!)\r\n        if (e0_3) resultE0 += -1.0 * (a.e2! * b.e02!)\r\n        if (e0_4) resultE0 += 1.0 * (a.e01! * b.e1!)\r\n        if (e0_5) resultE0 += 1.0 * (a.e02! * b.e2!)\r\n        if (e0_6) resultE0 += -1.0 * (a.e12! * b.e012!)\r\n        if (e0_7) resultE0 += -1.0 * (a.e012! * b.e12!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e1 !== undefined && b.scalar !== undefined\r\n    const e1_2 = a.e2 !== undefined && b.e12 !== undefined\r\n    const e1_3 = a.e12 !== undefined && b.e2 !== undefined\r\n    if (e1_0 || e1_1 || e1_2 || e1_3) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n        if (e1_2) resultE1 += -1.0 * (a.e2! * b.e12!)\r\n        if (e1_3) resultE1 += 1.0 * (a.e12! * b.e2!)\r\n    }\r\n    let resultE2 = undefined\r\n    const e2_0 = a.scalar !== undefined && b.e2 !== undefined\r\n    const e2_1 = a.e1 !== undefined && b.e12 !== undefined\r\n    const e2_2 = a.e2 !== undefined && b.scalar !== undefined\r\n    const e2_3 = a.e12 !== undefined && b.e1 !== undefined\r\n    if (e2_0 || e2_1 || e2_2 || e2_3) {\r\n        resultE2 = 0\r\n        if (e2_0) resultE2 += 1.0 * (a.scalar! * b.e2!)\r\n        if (e2_1) resultE2 += 1.0 * (a.e1! * b.e12!)\r\n        if (e2_2) resultE2 += 1.0 * (a.e2! * b.scalar!)\r\n        if (e2_3) resultE2 += -1.0 * (a.e12! * b.e1!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e2 !== undefined && b.e012 !== undefined\r\n    const e01_2 = a.e01 !== undefined && b.scalar !== undefined\r\n    const e01_3 = a.e012 !== undefined && b.e2 !== undefined\r\n    if (e01_0 || e01_1 || e01_2 || e01_3) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e2! * b.e012!)\r\n        if (e01_2) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n        if (e01_3) resultE01 += 1.0 * (a.e012! * b.e2!)\r\n    }\r\n    let resultE02 = undefined\r\n    const e02_0 = a.scalar !== undefined && b.e02 !== undefined\r\n    const e02_1 = a.e1 !== undefined && b.e012 !== undefined\r\n    const e02_2 = a.e02 !== undefined && b.scalar !== undefined\r\n    const e02_3 = a.e012 !== undefined && b.e1 !== undefined\r\n    if (e02_0 || e02_1 || e02_2 || e02_3) {\r\n        resultE02 = 0\r\n        if (e02_0) resultE02 += 1.0 * (a.scalar! * b.e02!)\r\n        if (e02_1) resultE02 += -1.0 * (a.e1! * b.e012!)\r\n        if (e02_2) resultE02 += 1.0 * (a.e02! * b.scalar!)\r\n        if (e02_3) resultE02 += -1.0 * (a.e012! * b.e1!)\r\n    }\r\n    let resultE12 = undefined\r\n    const e12_0 = a.scalar !== undefined && b.e12 !== undefined\r\n    const e12_1 = a.e12 !== undefined && b.scalar !== undefined\r\n    if (e12_0 || e12_1) {\r\n        resultE12 = 0\r\n        if (e12_0) resultE12 += 1.0 * (a.scalar! * b.e12!)\r\n        if (e12_1) resultE12 += 1.0 * (a.e12! * b.scalar!)\r\n    }\r\n    let resultE012 = undefined\r\n    const e012_0 = a.scalar !== undefined && b.e012 !== undefined\r\n    const e012_1 = a.e012 !== undefined && b.scalar !== undefined\r\n    if (e012_0 || e012_1) {\r\n        resultE012 = 0\r\n        if (e012_0) resultE012 += 1.0 * (a.scalar! * b.e012!)\r\n        if (e012_1) resultE012 += 1.0 * (a.e012! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e2: resultE2,\r\n        e01: resultE01,\r\n        e02: resultE02,\r\n        e12: resultE12,\r\n        e012: resultE012,\r\n    }\r\n    return result as InnerProductResultType<A, B>\r\n}\r\n\r\nexport type ExteriorProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE2 ? BladeE2 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {}) &\r\n        (B extends BladeE02 ? BladeE02 : {}) &\r\n        (B extends BladeE12 ? BladeE12 : {}) &\r\n        (B extends BladeE012 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE01 : {}) &\r\n        (B extends BladeE2 ? BladeE02 : {}) &\r\n        (B extends BladeE12 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE0 ? BladeE01 : {}) &\r\n        (B extends BladeE2 ? BladeE12 : {}) &\r\n        (B extends BladeE02 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE2 ? (\r\n        (B extends BladeScalar ? BladeE2 : {}) &\r\n        (B extends BladeE0 ? BladeE02 : {}) &\r\n        (B extends BladeE1 ? BladeE12 : {}) &\r\n        (B extends BladeE01 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {}) &\r\n        (B extends BladeE2 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE02 ? (\r\n        (B extends BladeScalar ? BladeE02 : {}) &\r\n        (B extends BladeE1 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE12 ? (\r\n        (B extends BladeScalar ? BladeE12 : {}) &\r\n        (B extends BladeE0 ? BladeE012 : {})\r\n    ) : {}) &\r\n    (A extends BladeE012 ? (\r\n        (B extends BladeScalar ? BladeE012 : {})\r\n    ) : {})\r\n\r\nexport const exteriorProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): ExteriorProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    if (scalar_0) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    if (e0_0 || e0_1) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e1 !== undefined && b.scalar !== undefined\r\n    if (e1_0 || e1_1) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n    }\r\n    let resultE2 = undefined\r\n    const e2_0 = a.scalar !== undefined && b.e2 !== undefined\r\n    const e2_1 = a.e2 !== undefined && b.scalar !== undefined\r\n    if (e2_0 || e2_1) {\r\n        resultE2 = 0\r\n        if (e2_0) resultE2 += 1.0 * (a.scalar! * b.e2!)\r\n        if (e2_1) resultE2 += 1.0 * (a.e2! * b.scalar!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e0 !== undefined && b.e1 !== undefined\r\n    const e01_2 = a.e1 !== undefined && b.e0 !== undefined\r\n    const e01_3 = a.e01 !== undefined && b.scalar !== undefined\r\n    if (e01_0 || e01_1 || e01_2 || e01_3) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e0! * b.e1!)\r\n        if (e01_2) resultE01 += -1.0 * (a.e1! * b.e0!)\r\n        if (e01_3) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n    }\r\n    let resultE02 = undefined\r\n    const e02_0 = a.scalar !== undefined && b.e02 !== undefined\r\n    const e02_1 = a.e0 !== undefined && b.e2 !== undefined\r\n    const e02_2 = a.e2 !== undefined && b.e0 !== undefined\r\n    const e02_3 = a.e02 !== undefined && b.scalar !== undefined\r\n    if (e02_0 || e02_1 || e02_2 || e02_3) {\r\n        resultE02 = 0\r\n        if (e02_0) resultE02 += 1.0 * (a.scalar! * b.e02!)\r\n        if (e02_1) resultE02 += 1.0 * (a.e0! * b.e2!)\r\n        if (e02_2) resultE02 += -1.0 * (a.e2! * b.e0!)\r\n        if (e02_3) resultE02 += 1.0 * (a.e02! * b.scalar!)\r\n    }\r\n    let resultE12 = undefined\r\n    const e12_0 = a.scalar !== undefined && b.e12 !== undefined\r\n    const e12_1 = a.e1 !== undefined && b.e2 !== undefined\r\n    const e12_2 = a.e2 !== undefined && b.e1 !== undefined\r\n    const e12_3 = a.e12 !== undefined && b.scalar !== undefined\r\n    if (e12_0 || e12_1 || e12_2 || e12_3) {\r\n        resultE12 = 0\r\n        if (e12_0) resultE12 += 1.0 * (a.scalar! * b.e12!)\r\n        if (e12_1) resultE12 += 1.0 * (a.e1! * b.e2!)\r\n        if (e12_2) resultE12 += -1.0 * (a.e2! * b.e1!)\r\n        if (e12_3) resultE12 += 1.0 * (a.e12! * b.scalar!)\r\n    }\r\n    let resultE012 = undefined\r\n    const e012_0 = a.scalar !== undefined && b.e012 !== undefined\r\n    const e012_1 = a.e0 !== undefined && b.e12 !== undefined\r\n    const e012_2 = a.e1 !== undefined && b.e02 !== undefined\r\n    const e012_3 = a.e2 !== undefined && b.e01 !== undefined\r\n    const e012_4 = a.e01 !== undefined && b.e2 !== undefined\r\n    const e012_5 = a.e02 !== undefined && b.e1 !== undefined\r\n    const e012_6 = a.e12 !== undefined && b.e0 !== undefined\r\n    const e012_7 = a.e012 !== undefined && b.scalar !== undefined\r\n    if (e012_0 || e012_1 || e012_2 || e012_3 || e012_4 || e012_5 || e012_6 || e012_7) {\r\n        resultE012 = 0\r\n        if (e012_0) resultE012 += 1.0 * (a.scalar! * b.e012!)\r\n        if (e012_1) resultE012 += 1.0 * (a.e0! * b.e12!)\r\n        if (e012_2) resultE012 += -1.0 * (a.e1! * b.e02!)\r\n        if (e012_3) resultE012 += 1.0 * (a.e2! * b.e01!)\r\n        if (e012_4) resultE012 += 1.0 * (a.e01! * b.e2!)\r\n        if (e012_5) resultE012 += -1.0 * (a.e02! * b.e1!)\r\n        if (e012_6) resultE012 += 1.0 * (a.e12! * b.e0!)\r\n        if (e012_7) resultE012 += 1.0 * (a.e012! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e2: resultE2,\r\n        e01: resultE01,\r\n        e02: resultE02,\r\n        e12: resultE12,\r\n        e012: resultE012,\r\n    }\r\n    return result as ExteriorProductResultType<A, B>\r\n}\r\n\r\nexport const multiply = <A extends OptionalMultiVector>(a: A, b: number): A => {\r\n    const result: any = {\r\n        scalar: a.scalar !== undefined ? a.scalar * b : undefined,\r\n        e0: a.e0 !== undefined ? a.e0 * b : undefined,\r\n        e1: a.e1 !== undefined ? a.e1 * b : undefined,\r\n        e2: a.e2 !== undefined ? a.e2 * b : undefined,\r\n        e01: a.e01 !== undefined ? a.e01 * b : undefined,\r\n        e02: a.e02 !== undefined ? a.e02 * b : undefined,\r\n        e12: a.e12 !== undefined ? a.e12 * b : undefined,\r\n        e012: a.e012 !== undefined ? a.e012 * b : undefined,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const div = <A extends OptionalMultiVector>(a: A, b: number): A => {\r\n    const result: any = {\r\n        scalar: a.scalar !== undefined ? a.scalar / b : undefined,\r\n        e0: a.e0 !== undefined ? a.e0 / b : undefined,\r\n        e1: a.e1 !== undefined ? a.e1 / b : undefined,\r\n        e2: a.e2 !== undefined ? a.e2 / b : undefined,\r\n        e01: a.e01 !== undefined ? a.e01 / b : undefined,\r\n        e02: a.e02 !== undefined ? a.e02 / b : undefined,\r\n        e12: a.e12 !== undefined ? a.e12 / b : undefined,\r\n        e012: a.e012 !== undefined ? a.e012 / b : undefined,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const reversion = <A extends OptionalMultiVector>(a: A): A => {\r\n    const result: any = {\r\n        scalar: a.scalar && a.scalar,\r\n        e0: a.e0 && a.e0,\r\n        e1: a.e1 && a.e1,\r\n        e2: a.e2 && a.e2,\r\n        e01: a.e01 && -a.e01,\r\n        e02: a.e02 && -a.e02,\r\n        e12: a.e12 && -a.e12,\r\n        e012: a.e012 && -a.e012,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const repr = <A extends OptionalMultiVector>(a: A, digits: number = 3): string => {\r\n    let result = \"\"\r\n    if (a.scalar !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.scalar.toFixed(digits) + \"\"\r\n        } else {\r\n            result += a.scalar >= 0 ? \" + \" + a.scalar.toFixed(digits) + \"\" : \" - \" + Math.abs(a.scalar).toFixed(digits) + \"\"\r\n        }\r\n    }\r\n    if (a.e0 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e0.toFixed(digits) + \"e0\"\r\n        } else {\r\n            result += a.e0 >= 0 ? \" + \" + a.e0.toFixed(digits) + \"e0\" : \" - \" + Math.abs(a.e0).toFixed(digits) + \"e0\"\r\n        }\r\n    }\r\n    if (a.e1 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e1.toFixed(digits) + \"e1\"\r\n        } else {\r\n            result += a.e1 >= 0 ? \" + \" + a.e1.toFixed(digits) + \"e1\" : \" - \" + Math.abs(a.e1).toFixed(digits) + \"e1\"\r\n        }\r\n    }\r\n    if (a.e2 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e2.toFixed(digits) + \"e2\"\r\n        } else {\r\n            result += a.e2 >= 0 ? \" + \" + a.e2.toFixed(digits) + \"e2\" : \" - \" + Math.abs(a.e2).toFixed(digits) + \"e2\"\r\n        }\r\n    }\r\n    if (a.e01 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e01.toFixed(digits) + \"e01\"\r\n        } else {\r\n            result += a.e01 >= 0 ? \" + \" + a.e01.toFixed(digits) + \"e01\" : \" - \" + Math.abs(a.e01).toFixed(digits) + \"e01\"\r\n        }\r\n    }\r\n    if (a.e02 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e02.toFixed(digits) + \"e02\"\r\n        } else {\r\n            result += a.e02 >= 0 ? \" + \" + a.e02.toFixed(digits) + \"e02\" : \" - \" + Math.abs(a.e02).toFixed(digits) + \"e02\"\r\n        }\r\n    }\r\n    if (a.e12 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e12.toFixed(digits) + \"e12\"\r\n        } else {\r\n            result += a.e12 >= 0 ? \" + \" + a.e12.toFixed(digits) + \"e12\" : \" - \" + Math.abs(a.e12).toFixed(digits) + \"e12\"\r\n        }\r\n    }\r\n    if (a.e012 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e012.toFixed(digits) + \"e012\"\r\n        } else {\r\n            result += a.e012 >= 0 ? \" + \" + a.e012.toFixed(digits) + \"e012\" : \" - \" + Math.abs(a.e012).toFixed(digits) + \"e012\"\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nexport const regressiveProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    dual(exteriorProduct(dual(a), dual(b)))\r\n\r\nexport const sandwichProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    geometricProduct(b, geometricProduct(a, reversion(b)))\r\n\r\nexport const commutatorProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    multiply(sub(geometricProduct(a, b), geometricProduct(b, a)), 0.5)\r\n\r\nexport const exponential = <A extends OptionalMultiVector>(a: A) => {\r\n    const gp = geometricProduct(a, a) as any\r\n    if (gp.scalar === undefined) {\r\n        throw new Error(\"Input to exponential needs to square to scalar\")\r\n    }\r\n    const s = gp.scalar as number\r\n\r\n    if (s < -0.1) {\r\n        const rootS = Math.sign(s) * Math.sqrt(Math.abs(s))\r\n        return add({ scalar: Math.cos(rootS) }, multiply(a, Math.sin(rootS) / rootS))\r\n    } else if (s > 0.1) {\r\n        const rootS = Math.sign(s) * Math.sqrt(Math.abs(s))\r\n        return add({ scalar: Math.cosh(rootS) }, multiply(a, Math.sinh(rootS) / rootS))\r\n    } else {\r\n        return add({ scalar: 1 }, a)\r\n    }\r\n}","import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport function TutorialIndex() {\r\n    return (\r\n        <div>\r\n            <h3>Index</h3>\r\n            <div>\r\n                This tutorial tries to teach Geometric Algebra (GA) in an interactive way with runnable code and visualizations.\r\n                It is not meant to be an entirely bottom-up way where we try to derive every single result.\r\n                Instead the focus is on trying to create an understanding for GA and gradually introduce new things while\r\n                directly applying the learnt concepts.\r\n            </div>\r\n            <h4>Sections</h4>\r\n            <ol>\r\n                <li><Link to=\"/ga-basics\">Geometric Algebra Basics</Link></li>\r\n                <li><Link to=\"/pga\">Projective Geometric Algebra</Link></li>\r\n            </ol>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { InteractiveCode } from \"./InteractiveCode\"\r\nimport * as cnt from \"./content\"\r\n\r\nexport function GATutorial() {\r\n    // Need to retrigger equation typesetting as it's only done once on startup\r\n    useEffect(() => {\r\n        // eslint-disable-next-line no-eval\r\n        eval(\"if (MathJax && MathJax.typeset) MathJax.typeset();\")\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>Geometric Algebra Basics</h3>\r\n            <div>{cnt.textA}</div>\r\n\r\n            <h4>Vectors</h4>\r\n            <div>{cnt.textA2}</div>\r\n\r\n            <InteractiveCode sourceCode={cnt.codeA2}\r\n                hideOutput={true} withVisualizer={true}\r\n            />\r\n\r\n            <h4>Geometric Product</h4>\r\n            <h5>Rule 1: basis vectors square to +1</h5>\r\n            <div>{cnt.textA3}</div>\r\n            <InteractiveCode sourceCode={cnt.codeA3} />\r\n\r\n            <h5>Rule 2: different basis vector anti-commute</h5>\r\n            <div>{cnt.textB}</div>\r\n            <div>{cnt.textB2}</div>\r\n            <InteractiveCode sourceCode={cnt.codeB} />\r\n\r\n            <h5>Practice</h5>\r\n            <div>{cnt.textC}</div>\r\n            <InteractiveCode sourceCode={cnt.codeC} />\r\n\r\n            <h3>Rotors</h3>\r\n\r\n            <h4>Squaring bivectors</h4>\r\n            <div>{cnt.textD}</div>\r\n            <InteractiveCode sourceCode={cnt.codeD} />\r\n\r\n            <div>{cnt.textE}</div>\r\n\r\n            <div>We shall now look at some things we can achieve with what we already know now.</div>\r\n\r\n            <h4>Rotating 2D vectors using rotors</h4>\r\n            <div>{cnt.textF}</div>\r\n            <InteractiveCode sourceCode={cnt.codeF}\r\n                hideOutput={true} withVisualizer={true}\r\n            />\r\n\r\n            <div>{cnt.textG}</div>\r\n\r\n            <h4><Link to=\"/pga\">2. Projective Geometric Algebra</Link></h4>\r\n        </div>\r\n    )\r\n}","export const visualizerExample = `// Render a point at x: 50, y: 10\r\nrenderPointPGA({\r\n    e02: -50,\r\n    e01: 10,\r\n    e12: 1\r\n}, \"lime\");\r\n\r\n// Render the line 1x + 1y = 10\r\nrenderLinePGA({\r\n    e0: 10,\r\n    e1: 1,\r\n    e2: -1\r\n}, \"orange\");`\r\n\r\nexport const textA = `\r\nUsually introductions to GA begin by defining various rules and going over derivations before doing anything useful with them. I will also define some rules but try to get to the interesting stuff more quickly.\r\n`\r\n\r\nexport const textA2 = `\r\nLike for the standard 2D vector algebra in geometric algebra we have two basis vectors $e_x, e_y$ using which arbitrary vectors $v = x e_x + y e_y$ can be formed. Below is some runnable and editable code that forms\r\nsuch vectors and then displays them as points. The basis vectors $e_x, e_y$ are labeled e0 and e1 in the code.\r\n`\r\n\r\nexport const codeA2 = `// Render point at x=10, y=-60\r\nrenderPointGA({ e0: 10, e1: -60 })\r\n\r\n// Render point at x=-50, y=80\r\nrenderPointGA({ e0: -50, e1: 80}, \"red\")`\r\n\r\nexport const textA3 = `The product which defines Geometric Algebra and is its most important aspect is called the geometric product.\r\nMultiplying two same basis vectors together with the geometric product will result in $+1$ (for now...) if they are the same.\r\n\r\n\\\\begin{equation}\r\ne_x e_x = 1, e_y e_y = 1\r\n\\\\end{equation}\r\n\r\nThis is similar to how the dot product in standard vector algebra works.\r\nLet's verify these results with the code again, this time just logging some text instead of visualizing.\r\n`\r\n\r\nexport const codeA3 = `log(\"e0^2:\", ga.geometricProduct({ e0: 1 }, { e0: 1 }))\r\nlog(\"e1^2:\", ga.geometricProduct({ e1: 1 }, { e1: 1 }))`\r\n\r\nexport const textB = `What is new is that we can also multiply two different basis vectors and the result will not be zero, but can't be simplified further.\r\n\r\n\\\\begin{equation}\r\ne_x e_y = e_{xy}\r\n\\\\end{equation}\r\n\r\n$e_{xy}$ here is not something new, it just stands for the two basis vectors multiplied together as a shorthand way of writing.\r\nSuch elements made up of two basis vectors are called bivectors.\r\n`\r\n\r\nexport const textB2 = `\r\nImportantly the order of the product matters. A rule is that when you swap the factors of a product of basis vectors you pick up a minus sign.\r\nWe say that the basis vectors anti-commute.\r\n\r\n\\\\begin{equation}\r\ne_{xy} = e_x e_y = -e_y e_x = -e_{yx}\r\n\\\\end{equation}\r\n`\r\n\r\nexport const codeB = `log(\"e0 e1:\", ga.geometricProduct({ e0: 1 }, { e1: 1 }))\r\nlog(\"e1 e0:\", ga.geometricProduct({ e1: 1 }, { e0: 1 }))`\r\n\r\nexport const textC = `\r\nLet's now use these two basic rules we just learnt and see what some results are when we use them:\r\n\r\n\\\\begin{aligned}\r\ne_x e_y e_x & = & \\\\text{(rewrite as shorthand)} \\\\\\\\\r\ne_{xyx} & = & \\\\text{(Swap neighbours on the right, pick up minus sign)} \\\\\\\\\r\n-e_{xxy} & = & \\\\text{(Multiplying same basis vectors results in 1, e_xx = e_x e_x = 1)} \\\\\\\\\r\n-e_y &\r\n\\\\end{aligned}\r\n\r\nWe can verify these results with the code:\r\n`\r\n\r\nexport const codeC = `var a = ga.geometricProduct({ e0: 1 }, { e1: 1 }) // e_x e_y\r\nvar b = ga.geometricProduct(a, { e0: 1 }) // e_x e_y e_x\r\nlog(\"e0 e1 e0:\", b)`\r\n\r\nexport const textD = `Now for something more interesting, let's see what happens if we square the bivector $e_{xy}$, that is, multiplying it by itself:\r\n`\r\n\r\nexport const codeD = `log(\"e01^2\", ga.geometricProduct({ e01: 1 }, { e01: 1 }))`\r\n\r\nexport const textE = `\r\n\\\\begin{equation}\r\ne_{xy}^2 = e_{xy} e_{xy} = e_{xyxy} = -e_{xyyx} = -e_{xx} = -1\r\n\\\\end{equation}\r\n\r\nWe can see the square of the bivector $e_{xy}$ is $-1$. This shows that such a bivector is very similar to\r\nthe imaginary unit $i$ of complex numbers which was specifically introduced to square to $-1$. Here we didn't have to\r\nintroduce anything new and we automatically had such an element in our algebra.\r\n`\r\n\r\nexport const textF = `\r\nAs mentioned before $e_{xy}$ can be identified as the imaginary unit $i$ of complex numbers hence we can represent complex numbers as $a + b e_{xy}$ and a rotation by an arbitrary angle $\\\\phi$\r\ncan be performed just like with complex numbers using Euler's formula\r\n\r\n\\\\begin{equation}\r\nR(\\\\phi) = e^{\\\\phi e_{xy}} = cos(\\\\phi) + e_{xy} sin(\\\\phi)\r\n\\\\end{equation}\r\n\r\nThe object $R$ you get after exponentiating is called a rotor (because it rotates when you multiply with it, d'uh).\r\n\r\nUnlike with complex numbers now however, we can multiply a vector by a rotor directly instead of having to treat vectors as if they were complex numbers.\r\n`\r\n\r\nexport const codeF = `var phi = Math.PI * 3 / 4 // 3/4 pi is 135\r\n\r\n// e^(phi e_{xy})\r\nvar r = ga.exponential(\r\n    ga.geometricProduct(\r\n        { scalar: phi },\r\n        { e01: 1 }\r\n    )\r\n)\r\n\r\nvar p = { e0: 70, e1: 0 }\r\n\r\nvar rotatedP = ga.geometricProduct(r, p) // p rotated by 45\r\n\r\nrenderPointGA({ e0: 0, e1: 0 }, \"purple\") // Origin\r\nrenderPointGA(p)\r\nrenderPointGA(rotatedP, \"red\")\r\nrenderInfo(ga.repr(rotatedP), \"red\")`\r\n\r\nexport const textG = `\r\n\\\\begin{equation}\r\nv R(\\\\phi) = (x e_x + y e_y) (cos(\\\\phi) + e_{xy} sin(\\\\phi)) = e_x (x cos(\\\\phi) - y sin(\\\\phi)) + e_y (x sin(\\\\phi) + y cos(\\\\phi))\r\n\\\\end{equation}\r\n\r\nWe can see that the imaginary unit is actually a rotation in the XY plane as the bivector $e_{xy}$ is formed by multiplying the two basis vectors together, so in some sense it represents the XY plane.\r\n`","import React, { useEffect } from \"react\"\r\nimport { InteractiveCode } from \"./InteractiveCode\"\r\nimport * as cnt from \"./content\"\r\n\r\nexport function PGATutorial() {\r\n    // Need to retrigger equation typesetting as it's only done once on startup\r\n    useEffect(() => {\r\n        // eslint-disable-next-line no-eval\r\n        eval(\"if (MathJax && MathJax.typeset) MathJax.typeset();\")\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>Points and Lines</h3>\r\n            <InteractiveCode sourceCode={cnt.visualizerExample}\r\n                hideOutput={true} withVisualizer={true} />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useMemo } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { BrowserRouter as Router, Switch, Route, useLocation } from \"react-router-dom\"\nimport { TutorialIndex, GATutorial, PGATutorial } from \"./pages\"\nimport * as ga from \"./ga/ga_pp\"\nimport * as pga from \"./ga/ga_zpp\"\nimport * as viz from \"./ga/viz2d\"\n\nexport const pathToBreadcrumbs = (path: string) => {\n    const pathNames = [\"Geometric Algebra\"]\n    const pathUrls = [\"\"]\n\n    let cleanedPath = path\n    if (cleanedPath[cleanedPath.length - 1] === \"/\") {\n        cleanedPath = cleanedPath.substr(0, cleanedPath.length - 1)\n    }\n\n    let pathSplit = cleanedPath.substr(1).split(\"/\")\n\n    while (pathSplit.length > 0) {\n        pathNames.push(pathSplit[0])\n\n        pathUrls.push(`${pathUrls[pathUrls.length - 1]}/${pathSplit[0]}`)\n\n        pathSplit.splice(0, 1)\n    }\n\n    // Make the first breadcrumb url a slash.\n    pathUrls[0] = \"/\"\n\n    return pathNames.map((name, i) => {\n        return { name: name, url: pathUrls[i] }\n    })\n}\n\nfunction NotFound() {\n    return <h3>Not Found</h3>\n}\n\nfunction TutorialSite() {\n    const location = useLocation()\n\n    const breadcrumbs = useMemo(() => {\n        const crumbs = pathToBreadcrumbs(location.pathname)\n\n        return crumbs\n            .map(c => <a href={c.url}>{c.name}</a>)\n            .reduce((l, r) => <> {l} &gt; {r}  </>)\n    }, [location])\n\n    return (\n        <>\n            <div className=\"demo-container mdl-grid\">\n                <div className=\"mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone\"></div>\n                <div\n                    className=\"demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col\">\n                    <div className=\"demo-crumbs mdl-color-text--grey-500\">\n                        {breadcrumbs}\n                    </div>\n                    <Switch>\n                        <Route path=\"/ga-basics\">\n                            <GATutorial />\n                        </Route>\n                        <Route path=\"/pga\">\n                            <PGATutorial />\n                        </Route>\n                        <Route exact path=\"/\">\n                            <TutorialIndex />\n                        </Route>\n                        <Route path=\"*\">\n                            <NotFound />\n                        </Route>\n                    </Switch>\n                </div>\n            </div>\n            <footer className=\"demo-footer mdl-mini-footer\">\n                <div className=\"mdl-mini-footer--left-section\">\n                    <ul className=\"mdl-mini-footer--link-list\">\n                    </ul>\n                </div>\n            </footer>\n        </>\n    )\n}\n\nfunction App() {\n    useEffect(() => {\n        // Set variables on window so we can use it in interactive code\n        const wnd = window as any\n        wnd.ga = ga\n        wnd.pga = pga\n        wnd.viz = viz\n        wnd.renderScene = (scene: viz.Scene, renderTarget: HTMLElement) => {\n            ReactDOM.render(viz.SceneView({ scene: scene }), renderTarget)\n        }\n\n        // eslint-disable-next-line no-eval\n        eval(`\n            var ga = wnd.ga;\n            var pga = wnd.pga;\n            var viz = wnd.viz;\n            var renderScene = wnd.renderScene;\n        `)\n    }, [])\n\n    return (\n        <Router>\n            <TutorialSite />\n        </Router>\n    )\n}\n\nexport default App\n","export type BladeScalar = { scalar: number }\r\nexport type BladeE0 = { e0: number }\r\nexport type BladeE1 = { e1: number }\r\nexport type BladeE01 = { e01: number }\r\n\r\nexport type Scalar = BladeScalar\r\nexport type Vector = BladeE0 & BladeE1\r\nexport type BiVector = BladeE01\r\nexport type PseudoBiVector = BladeScalar\r\nexport type PseudoVector = BladeE0 & BladeE1\r\nexport type PseudoScalar = BladeE01\r\nexport type Even = BladeScalar & BladeE01\r\nexport type Odd = BladeE0 & BladeE1\r\nexport type MultiVector = BladeScalar & BladeE0 & BladeE1 & BladeE01\r\n\r\nexport type OptionalMultiVector = {\r\n    scalar?: number\r\n    e0?: number\r\n    e1?: number\r\n    e01?: number\r\n}\r\n\r\nexport type AddResultType<A, B> = (\r\n    (A extends BladeScalar ? BladeScalar : {}) &\r\n    (B extends BladeScalar ? BladeScalar : {}) &\r\n    (A extends BladeE0 ? BladeE0 : {}) &\r\n    (B extends BladeE0 ? BladeE0 : {}) &\r\n    (A extends BladeE1 ? BladeE1 : {}) &\r\n    (B extends BladeE1 ? BladeE1 : {}) &\r\n    (A extends BladeE01 ? BladeE01 : {}) &\r\n    (B extends BladeE01 ? BladeE01 : {})\r\n)\r\n\r\nexport const add = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): AddResultType<A, B> => {\r\n    const result: any = {\r\n        scalar: (a.scalar !== undefined || b.scalar !== undefined) ? (a.scalar || 0) + (b.scalar || 0) : undefined,\r\n        e0: (a.e0 !== undefined || b.e0 !== undefined) ? (a.e0 || 0) + (b.e0 || 0) : undefined,\r\n        e1: (a.e1 !== undefined || b.e1 !== undefined) ? (a.e1 || 0) + (b.e1 || 0) : undefined,\r\n        e01: (a.e01 !== undefined || b.e01 !== undefined) ? (a.e01 || 0) + (b.e01 || 0) : undefined,\r\n    }\r\n    return result as AddResultType<A, B>\r\n}\r\n\r\nexport const sub = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): AddResultType<A, B> => {\r\n    const result: any = {\r\n        scalar: (a.scalar !== undefined || b.scalar !== undefined) ? (a.scalar || 0) - (b.scalar || 0) : undefined,\r\n        e0: (a.e0 !== undefined || b.e0 !== undefined) ? (a.e0 || 0) - (b.e0 || 0) : undefined,\r\n        e1: (a.e1 !== undefined || b.e1 !== undefined) ? (a.e1 || 0) - (b.e1 || 0) : undefined,\r\n        e01: (a.e01 !== undefined || b.e01 !== undefined) ? (a.e01 || 0) - (b.e01 || 0) : undefined,\r\n    }\r\n    return result as AddResultType<A, B>\r\n}\r\n\r\nexport type DualResultType<A> = (\r\n    (A extends BladeScalar ? BladeE01 : {}) &\r\n    (A extends BladeE0 ? BladeE1 : {}) &\r\n    (A extends BladeE1 ? BladeE0 : {}) &\r\n    (A extends BladeE01 ? BladeScalar : {})\r\n)\r\n\r\nexport const dual = <A extends OptionalMultiVector>(a: A): DualResultType<A> => {\r\n    const result: any = {\r\n        scalar: a.e01 !== undefined ? 1.0 * a.e01 : undefined,\r\n        e0: a.e1 !== undefined ? 1.0 * a.e1 : undefined,\r\n        e1: a.e0 !== undefined ? -1.0 * a.e0 : undefined,\r\n        e01: a.scalar !== undefined ? 1.0 * a.scalar : undefined,\r\n    }\r\n    return result as DualResultType<A>\r\n}\r\n\r\nexport type GeometricProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {}) &\r\n        (B extends BladeE0 ? BladeScalar : {}) &\r\n        (B extends BladeE1 ? BladeE01 : {}) &\r\n        (B extends BladeE01 ? BladeE1 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE0 ? BladeE01 : {}) &\r\n        (B extends BladeE1 ? BladeScalar : {}) &\r\n        (B extends BladeE01 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {}) &\r\n        (B extends BladeE0 ? BladeE1 : {}) &\r\n        (B extends BladeE1 ? BladeE0 : {}) &\r\n        (B extends BladeE01 ? BladeScalar : {})\r\n    ) : {})\r\n\r\nexport const geometricProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): GeometricProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    const scalar_1 = a.e0 !== undefined && b.e0 !== undefined\r\n    const scalar_2 = a.e1 !== undefined && b.e1 !== undefined\r\n    const scalar_3 = a.e01 !== undefined && b.e01 !== undefined\r\n    if (scalar_0 || scalar_1 || scalar_2 || scalar_3) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n        if (scalar_1) resultScalar += 1.0 * (a.e0! * b.e0!)\r\n        if (scalar_2) resultScalar += 1.0 * (a.e1! * b.e1!)\r\n        if (scalar_3) resultScalar += -1.0 * (a.e01! * b.e01!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    const e0_2 = a.e1 !== undefined && b.e01 !== undefined\r\n    const e0_3 = a.e01 !== undefined && b.e1 !== undefined\r\n    if (e0_0 || e0_1 || e0_2 || e0_3) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n        if (e0_2) resultE0 += -1.0 * (a.e1! * b.e01!)\r\n        if (e0_3) resultE0 += 1.0 * (a.e01! * b.e1!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e0 !== undefined && b.e01 !== undefined\r\n    const e1_2 = a.e1 !== undefined && b.scalar !== undefined\r\n    const e1_3 = a.e01 !== undefined && b.e0 !== undefined\r\n    if (e1_0 || e1_1 || e1_2 || e1_3) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e0! * b.e01!)\r\n        if (e1_2) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n        if (e1_3) resultE1 += -1.0 * (a.e01! * b.e0!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e0 !== undefined && b.e1 !== undefined\r\n    const e01_2 = a.e1 !== undefined && b.e0 !== undefined\r\n    const e01_3 = a.e01 !== undefined && b.scalar !== undefined\r\n    if (e01_0 || e01_1 || e01_2 || e01_3) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e0! * b.e1!)\r\n        if (e01_2) resultE01 += -1.0 * (a.e1! * b.e0!)\r\n        if (e01_3) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e01: resultE01,\r\n    }\r\n    return result as GeometricProductResultType<A, B>\r\n}\r\n\r\nexport type InnerProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {}) &\r\n        (B extends BladeE0 ? BladeScalar : {}) &\r\n        (B extends BladeE01 ? BladeE1 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE1 ? BladeScalar : {}) &\r\n        (B extends BladeE01 ? BladeE0 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {}) &\r\n        (B extends BladeE0 ? BladeE1 : {}) &\r\n        (B extends BladeE1 ? BladeE0 : {}) &\r\n        (B extends BladeE01 ? BladeScalar : {})\r\n    ) : {})\r\n\r\nexport const innerProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): InnerProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    const scalar_1 = a.e0 !== undefined && b.e0 !== undefined\r\n    const scalar_2 = a.e1 !== undefined && b.e1 !== undefined\r\n    const scalar_3 = a.e01 !== undefined && b.e01 !== undefined\r\n    if (scalar_0 || scalar_1 || scalar_2 || scalar_3) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n        if (scalar_1) resultScalar += 1.0 * (a.e0! * b.e0!)\r\n        if (scalar_2) resultScalar += 1.0 * (a.e1! * b.e1!)\r\n        if (scalar_3) resultScalar += -1.0 * (a.e01! * b.e01!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    const e0_2 = a.e1 !== undefined && b.e01 !== undefined\r\n    const e0_3 = a.e01 !== undefined && b.e1 !== undefined\r\n    if (e0_0 || e0_1 || e0_2 || e0_3) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n        if (e0_2) resultE0 += -1.0 * (a.e1! * b.e01!)\r\n        if (e0_3) resultE0 += 1.0 * (a.e01! * b.e1!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e0 !== undefined && b.e01 !== undefined\r\n    const e1_2 = a.e1 !== undefined && b.scalar !== undefined\r\n    const e1_3 = a.e01 !== undefined && b.e0 !== undefined\r\n    if (e1_0 || e1_1 || e1_2 || e1_3) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e0! * b.e01!)\r\n        if (e1_2) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n        if (e1_3) resultE1 += -1.0 * (a.e01! * b.e0!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e01 !== undefined && b.scalar !== undefined\r\n    if (e01_0 || e01_1) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e01: resultE01,\r\n    }\r\n    return result as InnerProductResultType<A, B>\r\n}\r\n\r\nexport type ExteriorProductResultType<A, B> =\r\n    (A extends BladeScalar ? (\r\n        (B extends BladeScalar ? BladeScalar : {}) &\r\n        (B extends BladeE0 ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE1 : {}) &\r\n        (B extends BladeE01 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE0 ? (\r\n        (B extends BladeScalar ? BladeE0 : {}) &\r\n        (B extends BladeE1 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE1 ? (\r\n        (B extends BladeScalar ? BladeE1 : {}) &\r\n        (B extends BladeE0 ? BladeE01 : {})\r\n    ) : {}) &\r\n    (A extends BladeE01 ? (\r\n        (B extends BladeScalar ? BladeE01 : {})\r\n    ) : {})\r\n\r\nexport const exteriorProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B): ExteriorProductResultType<A, B> => {\r\n    let resultScalar = undefined\r\n    const scalar_0 = a.scalar !== undefined && b.scalar !== undefined\r\n    if (scalar_0) {\r\n        resultScalar = 0\r\n        if (scalar_0) resultScalar += 1.0 * (a.scalar! * b.scalar!)\r\n    }\r\n    let resultE0 = undefined\r\n    const e0_0 = a.scalar !== undefined && b.e0 !== undefined\r\n    const e0_1 = a.e0 !== undefined && b.scalar !== undefined\r\n    if (e0_0 || e0_1) {\r\n        resultE0 = 0\r\n        if (e0_0) resultE0 += 1.0 * (a.scalar! * b.e0!)\r\n        if (e0_1) resultE0 += 1.0 * (a.e0! * b.scalar!)\r\n    }\r\n    let resultE1 = undefined\r\n    const e1_0 = a.scalar !== undefined && b.e1 !== undefined\r\n    const e1_1 = a.e1 !== undefined && b.scalar !== undefined\r\n    if (e1_0 || e1_1) {\r\n        resultE1 = 0\r\n        if (e1_0) resultE1 += 1.0 * (a.scalar! * b.e1!)\r\n        if (e1_1) resultE1 += 1.0 * (a.e1! * b.scalar!)\r\n    }\r\n    let resultE01 = undefined\r\n    const e01_0 = a.scalar !== undefined && b.e01 !== undefined\r\n    const e01_1 = a.e0 !== undefined && b.e1 !== undefined\r\n    const e01_2 = a.e1 !== undefined && b.e0 !== undefined\r\n    const e01_3 = a.e01 !== undefined && b.scalar !== undefined\r\n    if (e01_0 || e01_1 || e01_2 || e01_3) {\r\n        resultE01 = 0\r\n        if (e01_0) resultE01 += 1.0 * (a.scalar! * b.e01!)\r\n        if (e01_1) resultE01 += 1.0 * (a.e0! * b.e1!)\r\n        if (e01_2) resultE01 += -1.0 * (a.e1! * b.e0!)\r\n        if (e01_3) resultE01 += 1.0 * (a.e01! * b.scalar!)\r\n    }\r\n    const result: any = {\r\n        scalar: resultScalar,\r\n        e0: resultE0,\r\n        e1: resultE1,\r\n        e01: resultE01,\r\n    }\r\n    return result as ExteriorProductResultType<A, B>\r\n}\r\n\r\nexport const multiply = <A extends OptionalMultiVector>(a: A, b: number): A => {\r\n    const result: any = {\r\n        scalar: a.scalar !== undefined ? a.scalar * b : undefined,\r\n        e0: a.e0 !== undefined ? a.e0 * b : undefined,\r\n        e1: a.e1 !== undefined ? a.e1 * b : undefined,\r\n        e01: a.e01 !== undefined ? a.e01 * b : undefined,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const div = <A extends OptionalMultiVector>(a: A, b: number): A => {\r\n    const result: any = {\r\n        scalar: a.scalar !== undefined ? a.scalar / b : undefined,\r\n        e0: a.e0 !== undefined ? a.e0 / b : undefined,\r\n        e1: a.e1 !== undefined ? a.e1 / b : undefined,\r\n        e01: a.e01 !== undefined ? a.e01 / b : undefined,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const reversion = <A extends OptionalMultiVector>(a: A): A => {\r\n    const result: any = {\r\n        scalar: a.scalar && a.scalar,\r\n        e0: a.e0 && a.e0,\r\n        e1: a.e1 && a.e1,\r\n        e01: a.e01 && -a.e01,\r\n    }\r\n    return result as A\r\n}\r\n\r\nexport const repr = <A extends OptionalMultiVector>(a: A, digits: number = 3): string => {\r\n    let result = \"\"\r\n    if (a.scalar !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.scalar.toFixed(digits) + \"\"\r\n        } else {\r\n            result += a.scalar >= 0 ? \" + \" + a.scalar.toFixed(digits) + \"\" : \" - \" + Math.abs(a.scalar).toFixed(digits) + \"\"\r\n        }\r\n    }\r\n    if (a.e0 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e0.toFixed(digits) + \"e0\"\r\n        } else {\r\n            result += a.e0 >= 0 ? \" + \" + a.e0.toFixed(digits) + \"e0\" : \" - \" + Math.abs(a.e0).toFixed(digits) + \"e0\"\r\n        }\r\n    }\r\n    if (a.e1 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e1.toFixed(digits) + \"e1\"\r\n        } else {\r\n            result += a.e1 >= 0 ? \" + \" + a.e1.toFixed(digits) + \"e1\" : \" - \" + Math.abs(a.e1).toFixed(digits) + \"e1\"\r\n        }\r\n    }\r\n    if (a.e01 !== undefined) {\r\n        if (result === \"\") {\r\n            result += a.e01.toFixed(digits) + \"e01\"\r\n        } else {\r\n            result += a.e01 >= 0 ? \" + \" + a.e01.toFixed(digits) + \"e01\" : \" - \" + Math.abs(a.e01).toFixed(digits) + \"e01\"\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nexport const regressiveProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    dual(exteriorProduct(dual(a), dual(b)))\r\n\r\nexport const sandwichProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    geometricProduct(b, geometricProduct(a, reversion(b)))\r\n\r\nexport const commutatorProduct = <A extends OptionalMultiVector, B extends OptionalMultiVector>(a: A, b: B) =>\r\n    multiply(sub(geometricProduct(a, b), geometricProduct(b, a)), 0.5)\r\n\r\nexport const exponential = <A extends OptionalMultiVector>(a: A) => {\r\n    const gp = geometricProduct(a, a) as any\r\n    if (gp.scalar === undefined) {\r\n        throw new Error(\"Input to exponential needs to square to scalar\")\r\n    }\r\n    const s = gp.scalar as number\r\n\r\n    if (s < -0.1) {\r\n        const rootS = Math.sign(s) * Math.sqrt(Math.abs(s))\r\n        return add({ scalar: Math.cos(rootS) }, multiply(a, Math.sin(rootS) / rootS))\r\n    } else if (s > 0.1) {\r\n        const rootS = Math.sign(s) * Math.sqrt(Math.abs(s))\r\n        return add({ scalar: Math.cosh(rootS) }, multiply(a, Math.sinh(rootS) / rootS))\r\n    } else {\r\n        return add({ scalar: 1 }, a)\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\"\nimport { hydrate, render } from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nfunction getApp() {\n    return (\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    )\n}\n\nconst rootElement = document.getElementById(\"root\")\nif (rootElement) {\n    if (rootElement.hasChildNodes()) {\n        hydrate(getApp(), rootElement)\n    } else {\n        render(getApp(), rootElement)\n    }\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA \nserviceWorker.unregister()\n","/* eslint-disable no-eval */\r\nimport React, { useState, useCallback, useRef, useMemo } from \"react\"\r\nimport styles from \"./InteractiveCode.module.css\"\r\nimport AceEditor from \"react-ace\"\r\nimport \"brace/mode/javascript\"\r\nimport \"brace/theme/monokai\"\r\nimport { SceneView } from \"../ga/viz2d\"\r\n\r\n\r\nexport type InteractiveCodeProps = {\r\n    style?: React.CSSProperties\r\n\r\n    sourceCode: string\r\n    editorStyle?: React.CSSProperties\r\n\r\n    hideOutput?: boolean\r\n    outputStyle?: React.CSSProperties\r\n\r\n    withVisualizer?: boolean\r\n    visualizerStyle?: React.CSSProperties\r\n}\r\n\r\nconst formatObject = (obj: any) => {\r\n    return JSON.stringify(obj, null, 4)\r\n}\r\n\r\nexport function InteractiveCode(props: InteractiveCodeProps) {\r\n    const {\r\n        sourceCode, editorStyle, hideOutput, withVisualizer, visualizerStyle,\r\n        outputStyle, style\r\n    } = props\r\n\r\n    // Store the edited code\r\n    const [code, setCode] = useState(sourceCode)\r\n\r\n    // Store the result of runs\r\n    const [runResult, setRunResult] = useState(\"Press run\")\r\n\r\n    // Run the code.\r\n    const run = useCallback(() => {\r\n        const oldLog = console.log\r\n\r\n        const newRunResults: string[] = []\r\n\r\n        console.log = (message?: any, ...optionalParams: any[]) => {\r\n            newRunResults.push(\r\n                (message !== undefined ? formatObject(message) + \" \" : \"\") +\r\n                optionalParams.map(formatObject).join(\" \")\r\n            )\r\n            oldLog(message, ...optionalParams)\r\n        }\r\n\r\n        let codeToRun = code;\r\n        const renderTarget = withVisualizer && visualizerRef.current\r\n\r\n        // Add helpers when using visualizer\r\n        if (renderTarget) {\r\n            codeToRun = `\r\n                var points = [];\r\n                var lines = [];\r\n                var infos = [];\r\n                var renderPointPGA = (p, color) => points.push({point: p, radius: 4, fill: color});\r\n                var renderLinePGA = (l, color) => lines.push({line: l, width: 2, stroke: color});\r\n                var renderPointGA = (p, color) => renderPointPGA({e02: -p.e0, e01: p.e1, e12: 1}, color);\r\n                var renderInfo = (info, color) => infos.push({text: info, fontSize: 4, color: color});\r\n            ` + codeToRun + `\r\n                renderScene({ points: points, lines: lines, infos: infos }, document.getElementById(\"${renderTarget.id}\"));\r\n            `\r\n        }\r\n\r\n        // Declare log() so we can write shorter code\r\n        codeToRun = \"var log = console.log;\" + codeToRun\r\n\r\n        try {\r\n            eval(codeToRun)\r\n            setRunResult(newRunResults.join(\"\\n\"))\r\n        } catch (e) {\r\n            setRunResult(e.toString())\r\n        }\r\n\r\n        console.log = oldLog\r\n    }, [code, withVisualizer])\r\n\r\n    // Unique id so we can refer to the div element that contains the \r\n    // svg render target later if we use a visualizer.\r\n    const uniqueId = useMemo(() => {\r\n        return (Math.random().toString(36) + \"00000000000000000\").slice(2, 18)\r\n    }, [])\r\n\r\n    const visualizerRef = useRef<HTMLDivElement>(null)\r\n\r\n    return (\r\n        <div className={styles[\"interactive-code\"]} style={style}>\r\n            <div style={{ position: \"relative\", width: \"100%\" }}>\r\n                <button style={{ border: 0, background: \"#505050\", color: \"#FFFFFF\", position: \"absolute\", right: 10, top: 10, fontSize: 24, zIndex: 10 }} onClick={run}>Run</button>\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", alignContent: \"stretch\" }}>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\", alignContent: \"stretch\", flexWrap: \"wrap\" }}>\r\n                    <AceEditor className={withVisualizer ? styles[\"interactive-code-editor-with-viz\"] : styles[\"interactive-code-editor-without-viz\"]}\r\n                        style={{ ...{ width: undefined, height: undefined }, ...editorStyle }}\r\n                        mode=\"javascript\" theme=\"monokai\" value={code} onChange={e => setCode(e)}\r\n                        showPrintMargin={false}\r\n                    />\r\n\r\n                    {withVisualizer &&\r\n                        <div id={`#${uniqueId}`} ref={visualizerRef} className={styles[\"interactive-code-viz\"]} style={visualizerStyle}>\r\n                            <SceneView scene={{}} />\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n                {!hideOutput &&\r\n                    <AceEditor className={styles[\"interactive-code-output\"]} style={{ ...{ width: undefined, height: undefined }, ...outputStyle }}\r\n                        mode=\"javascript\" theme=\"monokai\" value={runResult} readOnly={true}\r\n                        showPrintMargin={false}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}